<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace 命名空间
1、分类的作用，避免Sql语句重复
2、就是与我们JAVA接口关联
 -->
<mapper namespace="com.wys.work.businessbillmag.mapper.BusinessbillMapper">
	  
	<resultMap type="BusinessBillBean" id="accMap">
		<id property="id" column="id" javaType="long"/>
		<result property="businessBillOsAcc" column="business_bill_os_acc" javaType="string"/>
		<result property="businessBillServer" column="business_bill_server" javaType="int"/>
		<result property="businessBillDuration" column="business_bill_duration" javaType="int"/>
		<result property="businessBillCost" column="business_bill_cost" javaType="int"/>
		<result property="businessBillTariffPackage" column="business_bill_tariff_package" javaType="string"/>
	</resultMap>
	
	
	<!-- id属性定义着接口方法的名称 -->
		<!-- 在mybatis框架中，取值方式有2种：第一种是#{}，第二种是${}
		第一个区别在于：#取值的时候，会在参数的两侧添加''单引号
		然而$取值的时候，则不会添加''单引号
		第二个区别在于：#取值，编译方式采用预编译，$取值，编译方式直接才编译（可能会有
		SQL注入的危险）
		 -->

	<!-- map中取值，依旧还是采用#或者$,只是取值是采用：map.键的方式 -->
	
	<!-- resultType与resultMap一样，都是用来映射返回结果集与对象之间的关系
	只不过resultType需要结果集中字段名与对象的属性名保持名称一致 -->
	
	<select id="findBusiness2Count" parameterType="Map" resultType="int">
		select count(*) from t_accounting_bill 
		<where>
			business_bill_user_acc = #{user}
		</where>
		limit #{index} , #{rows}
	</select>
	
	<select id="findBusiness2List" parameterType="Map" resultMap="accMap">
		select * from t_accounting_bill 
		<where>
			business_bill_user_acc = #{user}
		</where>
		limit #{index} , #{rows}
	</select>
</mapper>